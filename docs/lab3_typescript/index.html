<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>Student Management System</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600&display=swap" rel="stylesheet">

  <!-- Custom Theme -->
  <style>
   /* Glassmorphism Utility */
        .glass-card {
            background: rgba(255, 255, 255, 0.1);
            /* Slightly visible white background */
            backdrop-filter: blur(15px);
            /* Apply blur effect */
            -webkit-backdrop-filter: blur(15px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            /* Light border */
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
            color: rgb(0, 0, 0);
            transition: 0.3s;
            animation: fadeUp 0.8s ease;
        }

        .glass-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 36px 0 rgba(0, 0, 0, 0.5);
        }

        /* General Styles - Terracotta/Warm Tone */
        body {
            /* Saddle Brown to Sienna */
            background: linear-gradient(135deg, #8B4513, #A0522D);
            font-family: "Prompt", sans-serif;
            padding-bottom: 70px;
            animation: fadeIn 1.2s ease;
        }

        h2 {
            color: #FFDAB9;
            /* Peach Puff - Light Orange */
            font-weight: 700;
            animation: slideDown 0.9s ease-out;
            letter-spacing: 2px;
            text-shadow: 0 0 10px rgba(0, 0, 0, 0.5); /* Orange glow */
        }

        h5, label {
            color: #F4A460;
            /* Sandy Brown - Soft Orange */
            font-weight: 600;
        }
        
        #currentUserId {
            color: rgba(255, 255, 255, 0.7);
        }

        /* Input Fields */
        .form-control {
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 0, 0, 0.3);
            color: rgb(255, 0, 0);
            border-radius: 12px;
        }

        .form-control::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        .form-control:focus {
            background: rgba(255, 255, 255, 0.3);
            border-color: #F4A460;
            box-shadow: 0 0 0 0.25rem rgba(244, 164, 96, 0.5);
            color: rgb(255, 0, 0);
        }

        /* Buttons */
        .btn-primary-custom {
            /* Dark Orange to Orange */
            background: linear-gradient(45deg, #FF8C00, #FFA500);
            color: rgb(255, 0, 0);
            border-radius: 15px;
            font-weight: 600;
            transition: 0.25s;
            border: none;
            box-shadow: 0 6px 15px rgba(255, 140, 0, 0.4);
        }

        .btn-primary-custom:hover {
            transform: translateY(-2px) scale(1.02);
            /* Tomato to Dark Orange */
            background: linear-gradient(45deg, #FF6347, #FF8C00);
            box-shadow: 0 8px 20px rgba(255, 140, 0, 0.6);
            color: rgb(255, 0, 0);
        }
        
        .btn-outline-secondary-custom {
            background: rgba(255, 255, 255, 0.1);
            color: #F4A460;
            border: 1px solid #F4A460;
            border-radius: 15px;
            font-weight: 600;
            transition: 0.25s;
        }
        .btn-outline-secondary-custom:hover {
             background: rgba(255, 255, 255, 0.2);
             color: #FFDAB9;
             border-color: #FFDAB9;
        }


        .btn-danger-custom {
            background: #D2691E;
            /* Chocolate - Dark Orange/Brown for Danger */
            color: rgb(255, 0, 0);
            border-radius: 10px;
            padding: 6px 12px;
            border: none;
        }
        .btn-danger-custom:hover {
            background: #A0522D; /* Sienna */
        }

        .btn-warning-custom {
            background: #FFD700;
            /* Gold for Edit */
            color: #333;
            border-radius: 10px;
            padding: 6px 12px;
            border: none;
        }

        /* Table Styling */
        .table {
            --bs-table-bg: rgba(255, 255, 255, 0.05);
            /* Transparent table background */
            --bs-table-striped-bg: rgba(255, 255, 255, 0.1);
            --bs-table-border-color: rgba(255, 255, 255, 0.2);
            color: rgb(255, 0, 0);
        }

        .table thead {
            background: rgba(139, 69, 19, 0.5); /* Semi-transparent Saddle Brown */
            color: #FFDAB9;
            /* Extra Light Orange */
            border-bottom: 2px solid #F4A460;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Fire Effect (for search highlight) - Orange glow */
        .fire-effect {
            animation: pulseGlow 1.2s ease-in-out infinite alternate;
            background: rgba(255, 165, 0, 0.2) !important;
        }

        @keyframes pulseGlow {
            0% { box-shadow: 0 0 6px 3px rgba(255, 165, 0, 0.6); }
            100% { box-shadow: 0 0 14px 6px rgba(255, 69, 0, 0.9); }
        }

        /* Sticky Header */
        .floating-header {
            position: sticky;
            top: 0;
            background: rgba(139, 69, 19, 0.8); /* Semi-transparent Saddle Brown */
            backdrop-filter: blur(10px);
            padding: 15px 0;
            z-index: 10;
            margin-bottom: 20px;
        }
 
        
  </style>
</head>

<body class="p-4">

  <!-- Header -->
  <div class="floating-header text-center mb-3">
    <h2>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤ (Student Management System)</h2>
  </div>

  <!-- ADD STUDENT FORM -->
  <div class="card p-4 mb-4">
    <h5 class="text-success mb-3">‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏° / ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</h5>

    <div class="row g-3">
      <div class="col-md-2"><input id="id" type="text" class="form-control" placeholder="Student ID" /></div>
      <div class="col-md-2"><input id="title_name" type="text" class="form-control" placeholder="‡∏Ñ‡∏≥‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤" /></div>
      <div class="col-md-2"><input id="first_name" type="text" class="form-control" placeholder="‡∏ä‡∏∑‡πà‡∏≠" /></div>
      <div class="col-md-2"><input id="last_name" type="text" class="form-control" placeholder="‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" /></div>
      <div class="col-md-3"><input id="email" type="email" class="form-control" placeholder="Email" /></div>
      <div class="col-md-2"><input id="year" type="number" class="form-control" placeholder="‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏µ" /></div>
      <div class="col-md-3"><input id="major" type="text" class="form-control" placeholder="‡∏™‡∏≤‡∏Ç‡∏≤" /></div>

      <div class="col-md-2 d-grid">
        <button id="addBtn" class="btn btn-green">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
      </div>
      <div class="col-md-2 d-grid">
        <button id="clearAllBtn" class="btn btn-red">‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
      </div>
    </div>
  </div>

  <!-- Search by name -->
  <div class="card p-4 mb-4">
    <h5 class="text-success">üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏ä‡∏∑‡πà‡∏≠</h5>
    <input id="searchName" class="form-control mb-2" placeholder="‡∏õ‡πâ‡∏≠‡∏ô‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤" />
    <button id="searchNameBtn" class="btn btn-green">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
  </div>

  <!-- Search by major -->
  <div class="card p-4 mb-4">
    <h5 class="text-success">üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏™‡∏≤‡∏Ç‡∏≤</h5>
    <input id="searchMajor" class="form-control mb-2" placeholder="‡∏õ‡πâ‡∏≠‡∏ô‡∏™‡∏≤‡∏Ç‡∏≤" />
    <button id="searchMajorBtn" class="btn btn-green">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
  </div>

  <!-- Search by Email -->
  <div class="card p-4 mb-4">
    <h5 class="text-success">üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢ Email</h5>
    <input id="searchEmail" class="form-control mb-2" placeholder="‡∏Å‡∏£‡∏≠‡∏Å Email" />
    <button id="searchEmailBtn" class="btn btn-green">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
  </div>

  <!-- TABLE -->
  <div class="card p-4">
    <table class="table table-bordered table-striped align-middle">
      <thead>
        <tr>
          <th>ID</th>
          <th>‡∏Ñ‡∏≥‡∏ô‡∏≥‡∏´‡∏ô‡πâ‡∏≤</th>
          <th>‡∏ä‡∏∑‡πà‡∏≠</th>
          <th>‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</th>
          <th>Email</th>
          <th>‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏µ</th>
          <th>‡∏™‡∏≤‡∏Ç‡∏≤</th>
        </tr>
      </thead>
      <tbody id="studentTableBody"></tbody>
    </table>
  </div>

  <!-- Welcome Popup -->
  <div class="modal fade modern-modal" id="welcomeModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">

        <div class="modal-header border-0">
          <h4 class="modal-title text-success w-100 text-center">
            ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö! üéâ
          </h4>
        </div>

        <div class="modal-body text-center">
          <p style="font-size: 17px;">
            ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤  
            <br>‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß üòä
          </p>
        </div>

        <div class="modal-footer border-0 d-flex justify-content-center">
          <button id="closeWelcome" type="button" class="btn btn-green">
            ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
          </button>
        </div>

      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    let editIndex = -1;
    const tableBody = document.getElementById("studentTableBody");

    function loadData() {
      const data = localStorage.getItem("students_v2");
      return data ? JSON.parse(data) : [];
    }

    function saveData(data) {
      localStorage.setItem("students_v2", JSON.stringify(data));
    }

    function renderTable() {
      const data = loadData();
      tableBody.innerHTML = "";

      data.forEach((std, index) => {
        const tr = document.createElement("tr");

        tr.innerHTML = `
          <td>${std.id}</td>
          <td>${std.title_name}</td>
          <td>${std.first_name}</td>
          <td>${std.last_name}</td>
          <td>${std.email}</td>
          <td>${std.year}</td>
          <td>${std.major}</td>
          <td>
            <button class="btn btn-yellow btn-sm" onclick="editStudent(${index})">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
            <button class="btn btn-red btn-sm" onclick="deleteStudent(${index})">‡∏•‡∏ö</button>
          </td>
        `;

        tableBody.appendChild(tr);
      });
    }

    function editStudent(index) {
      const data = loadData();
      const std = data[index];

      editIndex = index;

      document.getElementById("id").value = std.id;
      document.getElementById("title_name").value = std.title_name;
      document.getElementById("first_name").value = std.first_name;
      document.getElementById("last_name").value = std.last_name;
      document.getElementById("email").value = std.email;
      document.getElementById("year").value = std.year;
      document.getElementById("major").value = std.major;

      document.getElementById("addBtn").innerText = "‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•";
    }

    function deleteStudent(index) {
      const data = loadData();
      data.splice(index, 1);
      saveData(data);
      renderTable();
    }

    document.getElementById("addBtn").addEventListener("click", () => {
      const std = {
        id: document.getElementById("id").value,
        title_name: document.getElementById("title_name").value,
        first_name: document.getElementById("first_name").value,
        last_name: document.getElementById("last_name").value,
        email: document.getElementById("email").value,
        year: document.getElementById("year").value,
        major: document.getElementById("major").value,
      };

      let data = loadData();

      if (editIndex === -1) {
        data.push(std);
      } else {
        data[editIndex] = std;
        editIndex = -1;
        document.getElementById("addBtn").innerText = "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•";
      }

      saveData(data);
      renderTable();
    });

    document.getElementById("clearAllBtn").onclick = () => {
      if (confirm("‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?")) {
        localStorage.removeItem("students_v2");
        renderTable();
      }
    };

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏ö‡∏ö 3 ‡∏ä‡πà‡∏≠‡∏á
    function searchAndFire(inputId) {
      const key = document.getElementById(inputId).value.toLowerCase();
      const rows = tableBody.getElementsByTagName("tr");

      [...rows].forEach(r => {
        r.classList.remove("fire-effect");

        if (r.innerText.toLowerCase().includes(key) && key !== "") {
          r.classList.add("fire-effect");
        }
      });
    }

    document.getElementById("searchNameBtn").onclick = () => searchAndFire("searchName");
    document.getElementById("searchMajorBtn").onclick = () => searchAndFire("searchMajor");
    document.getElementById("searchEmailBtn").onclick = () => searchAndFire("searchEmail");

    const welcomeModalEl = document.getElementById("welcomeModal");
    const welcomeModal = new bootstrap.Modal(welcomeModalEl);

    window.onload = () => {
      renderTable();
      welcomeModal.show();
    };

    document.getElementById("closeWelcome").onclick = () => {
      const modalContent = welcomeModalEl.querySelector(".modal-content");
      modalContent.classList.add("closing");

      setTimeout(() => {
        welcomeModal.hide();
        modalContent.classList.remove("closing");
      }, 400);
    };
  </script>

</body>
</html>